# Default values for monai-environment.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

extraHostVolumes:
  #- name: monai-data-preparation-dev
  #  hostPath: /home/simone/Documents/Projects/k8s_nnUNet
  - name: monai-k8s
    hostPath: /home/simone/Documents/Projects/k8s_Monai
extraSecretVolumes:
  - name: secret-git-key
    secretName: ssh-key-secret

extraNFSVolumes:
  - name: nfs-data-volume
    hostPath: /mnt/nfs_share/Data/LungLobeSeg
    server: 130.237.84.230

extraVolumeMounts:
  - name: nfs-data-volume
    mountPath: /home/LungLobeSeg
  #- name: monai-data-preparation-dev
  #  mountPath: /home/k8s_data_preparation
  - name: monai-k8s
    mountPath: /home/k8s_Monai
  - mountPath: /dev/shm
    name: dshm
  - name: secret-git-key
    readOnly: true
    mountPath: "/etc/secret-volume"


extraEnv:
  - name: user
    valueFrom:
      secretKeyRef:
        key: user
        name: monai-secret
  - name: password
    valueFrom:
      secretKeyRef:
        key: password
        name: monai-secret

resources:
  requests:
    memory: "54Gi"
    cpu: "15000m"
  limits:
    memory: "54Gi"
    cpu: "15000m"
    nvidia.com/gpu: "1"

image:
  repository: docker-registry:5000/monai
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "v1"

imagePullSecrets: [ ]
nameOverride: ""
fullnameOverride: ""

podAnnotations: { }

podSecurityContext: { }
# fsGroup: 2000

securityContext: { }
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
# runAsUser: 1000

service:
  type: NodePort
  ports:
    - port: 22
      targetPort: 22
      nodePort: 30022
      name: 'ssh'
    - port: 6006
      targetPort: 6006
      nodePort: 30006
      name: 'tensorboard'

nodeSelector: { }

tolerations: [ ]

affinity: { }

dshm: True

autoscaling:
  enabled: False

ingress:
  enabled: False
